<!DOCTYPE html>
<html lang="pt-BR">
<head>
  <meta charset="UTF-8" />
  <title>Lista de Usuários</title>
  <style>
body {
  font-family: 'Segoe UI', Tahoma, Geneva, Verdana, sans-serif;
  background: linear-gradient(135deg, #eef2f7, #ffffff);
  color: #333;
  padding: 40px;
  margin: 0;
}

h1 {
  text-align: center;
  color: #2c3e50;
  font-size: 2.5rem;
  margin-bottom: 40px;
  text-shadow: 1px 1px 2px rgba(0, 0, 0, 0.1);
}

table {
  width: 100%;
  border-collapse: collapse;
  background-color: #ffffff;
  border-radius: 12px;
  overflow: hidden;
  box-shadow: 0 8px 24px rgba(0, 0, 0, 0.08);
  animation: fadeIn 0.6s ease-in-out;
}

@keyframes fadeIn {
  from { opacity: 0; transform: translateY(20px); }
  to { opacity: 1; transform: translateY(0); }
}

th, td {
  padding: 16px 20px;
  text-align: left;
  border-bottom: 1px solid #e6e6e6;
}

th {
  background-color: #007bff;
  color: white;
  text-transform: uppercase;
  letter-spacing: 0.8px;
  font-size: 0.9rem;
  position: sticky;
  top: 0;
  z-index: 1;
}

tbody tr:hover {
  background-color: #f0f8ff;
  transition: background-color 0.3s ease;
  cursor: pointer;
}

tbody tr:nth-child(even) {
  background-color: #f9fbfd;
}

td {
  font-size: 0.95rem;
  color: #333;
  transition: background-color 0.3s ease;
}

/* Tooltip nos dados */
td:hover {
  background-color: #e9f3ff;
}

/* Responsivo para telas pequenas */
@media (max-width: 768px) {
  table, thead, tbody, th, td, tr {
    display: block;
  }

  thead {
    display: none;
  }

  tbody tr {
    margin-bottom: 20px;
    background: white;
    border: 1px solid #ddd;
    border-radius: 12px;
    box-shadow: 0 2px 6px rgba(0, 0, 0, 0.05);
    padding: 15px;
  }

  td {
    position: relative;
    padding-left: 50%;
    text-align: right;
    border: none;
    border-bottom: 1px solid #eee;
  }

  td::before {
    content: attr(data-label);
    position: absolute;
    left: 16px;
    width: 45%;
    font-weight: bold;
    color: #555;
    text-align: left;
  }
}

  </style>
</head>
<body>
  <h1>Usuários Cadastrados</h1>
  <table id="tabelaUsuarios">
    <thead>
      <tr>
        <th>ID</th>
        <th>Nome</th>
        <th>Email</th>
        <th>CPF</th>
        <th>Data de Nascimento</th>
        <th>Telefone</th>
        <th>Matrícula</th>
        <th>Tipo</th>
      </tr>
    </thead>
    <tbody></tbody>
  </table>

  <script>
    fetch("/usuarios")
      .then(response => response.json())
      .then(usuarios => {
        const tbody = document.querySelector("#tabelaUsuarios tbody");
        usuarios.forEach(u => {
          const row = document.createElement("tr");
          row.innerHTML = `
            <td>${u.idusuario}</td>
            <td>${u.nome}</td>
            <td>${u.email}</td>
            <td>${u.cpf}</td>
            <td>${new Date(u.data_de_nascimento).toLocaleDateString()}</td>
            <td>${u.telefone}</td>
            <td>${u.numero_matricula}</td>
            <td>${u.tipo_usuario}</td>
          `;
          tbody.appendChild(row);
        });
      })
      .catch(error => {
        console.error("Erro ao carregar usuários:", error);
      });
  </script>
</body>
</html>
